<head>
    <link id="pagestyle" rel="stylesheet" href="../dark.css" />
    <style>
        @keyframes flash {
            0% {
                filter: brightness(1);
            }
            33% {
                filter: brightness(1.66);
            }
            50% {
                filter: brightness(2);
            }
            66% {
                filter: brightness(1.66);
            }
            100% {
                filter: brightness(1);
            }
        }
        @keyframes bounce {
            0% {
                transform: scale(1)
            }
            33% {
                transform: scale(1.1)
            }
            50% {
                transform: scale(1)
            }
            66% {
                transform: scale(0.9)
            }
            100% {
                transform: scale(1)
            }
        }
        @keyframes activate {
            0% {
                filter: invert(0);
            }
            50% {
                filter: invert(1);
            }
            100% {
                filter: invert(0);
            }
        }
        img {
            filter: invert(0);
        }
        .upgrade {
            width: 100px;
            height: 100px;
        }
        div {
            border: 1px solid white;
        }
    </style>
</head>
<body>
    <bigglow id="score">Loading...</bigglow><smallglow>Energy</smallglow>
    <br>
    <script>
        function getCookie(cname) {
            var name = cname + '=';
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return '';
        }
        function setCookie(cname, value) {
            document.cookie = cname + '=' + value + ';';
        }
        if (isNaN(getCookie('score')) || getCookie('score')=='') {
            var score = 0;
        } else {
            var score = parseInt(getCookie('score'));
        }
        if (isNaN(getCookie('atoms')) || getCookie('atoms')=='') {
            var atoms = 0;
        } else {
            var atoms = parseInt(getCookie('atoms'));
        }
        if (isNaN(getCookie('molecules')) || getCookie('molecules')=='') {
            var molecules = 0;
        } else {
            var molecules = parseInt(getCookie('molecules'));
        }
        if (isNaN(getCookie('fuhrers')) || getCookie('fuhrers')=='') {
            var fuhrers = 0;
        } else {
            var fuhrers = parseInt(getCookie('fuhrers'));
        }
        if (isNaN(getCookie('fourthreichs')) || getCookie('fourthreichs')=='') {
            var fourthreichs = 0;
        } else {
            var fourthreichs = parseInt(getCookie('fourthreichs'));
        }
        setInterval(function () {
            setCookie('score',score);
            setCookie('atoms',atoms);
            setCookie('molecules',molecules);
            setCookie('fuhrers',fuhrers);
            setCookie('fourthreichs',fourthreichs);
        }, 5000);
        setInterval(function () {
            document.getElementById('score').innerHTML = score;
            document.getElementById('atom-cost').innerHTML = Math.floor(10 * 1.15 ** atoms);
            document.getElementById('molecule-cost').innerHTML = Math.floor(100 * 1.15 ** molecules);
            document.getElementById('fuhrer-cost').innerHTML = Math.floor(1000000 * 1.15 ** fuhrers);
            document.getElementById('fourthreich-cost').innerHTML = Math.floor(1000000000 * 1.15 ** fuhrers);
        }, 100)
        setInterval(function () {
            score = score + atoms;
            document.getElementById('atom-button').style.animation = 'activate '+1000+'ms';
            setTimeout(()=>{
                document.getElementById('atom-button').style.animation = '';
            }, 1000);
        }, 5000)
        setInterval(function () {
            score = score + 5 * molecules;
            document.getElementById('molecule-button').style.animation = 'activate '+700+'ms';
            setTimeout(()=>{
                document.getElementById('molecule-button').style.animation = '';
            }, 700);
        }, 2000)
        setInterval(function () {
            score = score + 666666 * fuhrers;
            document.getElementById('fuhrer-button').style.animation = 'activate '+1000+'ms';
            setTimeout(()=>{
                document.getElementById('fuhrer-button').style.animation = '';
            }, 1000);
        }, 3000)
        setInterval(function () {
            score = score + 886131688 * fourthreichs;
            document.getElementById('fourthreich-button').style.animation = 'activate '+700+'ms';
            setTimeout(()=>{
                document.getElementById('fourthreich-button').style.animation = '';
            }, 700);
        }, 1500)
        let clickActive = false;
        let atomClickActive = false;
        let moleculeClickActive = false;
        let fuhrerClickActive = false;
        let fourthreichClickActive = false;
    </script>
    <div>
        <img src="https://media0.giphy.com/media/l5JbspfwZ0yjHjlJ0K/giphy.gif?cid=6c09b952kz543h1610f03nynl918hf6w4luwstdtg8zzr0h6" alt="World" onclick="  
            score = score + 1;
            if (!clickActive) {
                clickActive = true;
                this.style.animation = 'flash '+150+'ms';
                setTimeout(()=>{
                    this.style.animation = '';
                    clickActive = false;
                }, 150);
            }
        ">
    </div>
    <br>
    <div>
        <img src="atom.gif" class="upgrade" alt="Atom" id="atom-button" onclick="
            if (score >= parseInt(document.getElementById('atom-cost').innerHTML)) {
                score = score - parseInt(document.getElementById('atom-cost').innerHTML);
                atoms = atoms + 1;
            }
            if (!atomClickActive) {
                atomClickActive = true;
                this.style.animation = 'bounce '+150+'ms';
                setTimeout(()=>{
                    this.style.animation = '';
                    atomClickActive = false;
                }, 150);
            }
        "><bigglow>Atom</bigglow>
        <br>
        <bigglow>Cost: </bigglow><bigdanger id="atom-cost">Loading...</bigdanger>
    </div>
    <div>
        <img src="molecule.gif" class="upgrade" alt="Molecule" id="molecule-button" onclick="
            if (score >= parseInt(document.getElementById('molecule-cost').innerHTML)) {
                score = score - parseInt(document.getElementById('molecule-cost').innerHTML);
                molecules = molecules + 1;
            }
            if (!moleculeClickActive) {
                moleculeClickActive = true;
                this.style.animation = 'bounce '+150+'ms';
                setTimeout(()=>{
                    this.style.animation = '';
                    moleculeClickActive = false;
                }, 150);
            }
        "><bigglow>Molecule</bigglow>
        <br>
        <bigglow>Cost: </bigglow><bigdanger id="molecule-cost">Loading...</bigdanger>
    </div>
    <div>
        <img src="fuhrer.gif" class="upgrade" alt="Molecule" id="fuhrer-button" onclick="
            if (score >= parseInt(document.getElementById('fuhrer-cost').innerHTML)) {
                score = score - parseInt(document.getElementById('fuhrer-cost').innerHTML);
                fuhrers = fuhrers + 1;
            }
            if (!fuhrerClickActive) {
                fuhrerClickActive = true;
                this.style.animation = 'bounce '+150+'ms';
                setTimeout(()=>{
                    this.style.animation = '';
                    fuhrerClickActive = false;
                }, 150);
            }
        "><bigglow>FÃ¼hrer</bigglow>
        <br>
        <bigglow>Cost: </bigglow><bigdanger id="fuhrer-cost">Loading...</bigdanger>
    </div>
    <div>
        <img src="fourthreich.png" class="upgrade" alt="Fourth Reich" id="fourthreich-button" onclick="
            if (score >= parseInt(document.getElementById('fourthreich-cost').innerHTML)) {
                score = score - parseInt(document.getElementById('fourthreich-cost').innerHTML);
                fourthreichs = fourthreichs + 1;
            }
            if (!fourthreichClickActive) {
                fourthreichClickActive = true;
                this.style.animation = 'bounce '+150+'ms';
                setTimeout(()=>{
                    this.style.animation = '';
                    fourthreichClickActive = false;
                }, 150);
            }
        "><bigglow>Fourth Reich</bigglow>
        <br>
        <bigglow>Cost: </bigglow><bigdanger id="fourthreich-cost">Loading...</bigdanger>
    </div>
</body>

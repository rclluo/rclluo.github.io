<div>
  <h1>Hello!</h1>
  <p>You can you this tool to encrypt text with a key!</p>
</div>
<div>
  <label for="Message">Message:</label>
  <br>
  <textarea id="Message" name="Message" rows=10 cols=100></textarea>
  <br>
  <label for="Key">Key:</label>
  <br>
  <textarea id="Key" name="Key" rows=5 cols=100></textarea>
  <br>
</div>
</div>
<script>
  const str = "`1234567890-=qwertyuiop[]asdfghjkl;'zxcvbnm,./~!@#$%^&*()_+QWERTYUIOP{|}ASDFGHJKL:ZXCVBNM<>? \n";
  const characters = str.split("");
  const mod = characters.length;
</script>
<button onclick="
  let message = document.getElementById('Message').value;
  let key = document.getElementById('Key').value;
  for (let i = 0; i < key.length; i++) {
    let ret = '';
    for (let j = 0; j < message.length; j++) {
        const messageIndex = characters.indexOf(message[j]);
        const keyIndex = characters.indexOf(key[i % key.length]);
        const newIndex = (messageIndex + Math.pow(keyIndex, keyIndex) % mod) % mod;
        ret += characters[newIndex];
    }
    message=ret
  }
  document.getElementById('Output').value = message;
">Encrypt</button>
<button onclick="
  let message = document.getElementById('Message').value;
  let key = document.getElementById('Key').value;
  for (let i = 0; i < key.length; i++) {
    let ret = '';
    for (let j = 0; j < message.length; j++) {
        const messageIndex = characters.indexOf(message[j]);
        const keyIndex = characters.indexOf(key[i % key.length]);
        const newIndex = ((messageIndex - Math.pow(keyIndex, keyIndex) % mod) + mod) % mod;
        ret += characters[newIndex];
    }
    message=ret
  }
  document.getElementById('Output').value = message;
">Decrypt</button>
</div>
<div>
  <p>Output:</p>
  <textarea id="Output" name="Output" rows=10 cols=100></textarea>
</div>
